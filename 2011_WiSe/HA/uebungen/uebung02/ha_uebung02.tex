\documentclass[11pt,a4paper,ngerman]{article}
\usepackage[bottom=2.5cm,top=2.5cm]{geometry} 
\usepackage{babel}
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc} 
\usepackage{ae} 
\usepackage{amssymb} 
\usepackage{amsmath} 
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{fancyref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{paralist}

\usepackage[pdftex, bookmarks=false, pdfstartview={FitH}, linkbordercolor=white]{hyperref}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[C]{Höhere Algorithmik}
\fancyhead[L]{Übung Nr. 2}
\fancyhead[R]{WS 2011/12}
\fancyfoot{}
\fancyfoot[L]{}
\fancyfoot[C]{\thepage / \pageref{LastPage}}
\renewcommand{\footrulewidth}{0.5pt}
\renewcommand{\headrulewidth}{0.5pt}
\setlength{\parindent}{0pt} 
\setlength{\headheight}{15pt}

\author{Tutor: Lena Schlipf}
\date{}
\title{Max Wisniewski , Alexander Steen}

\begin{document}

\lstset{language=Java, basicstyle=\ttfamily\fontsize{10pt}{10pt}\selectfont\upshape, commentstyle=\rmfamily\slshape, keywordstyle=\rmfamily\bfseries, breaklines=true, frame=single, xleftmargin=3mm, xrightmargin=3mm, tabsize=2}

\maketitle
\thispagestyle{fancy}

%% -----------------------------------------------------
%%                         AUFGABE 1
%% -----------------------------------------------------

\section*{Aufgabe 1}

Sei $S = \{ s_1, s_2, ..., s_n \} $ eine Menge von $n$ paarweise verschiedenen Elementen aus einem totalgeordneten Universum. Seien $w_1, w_2, ..., w_n$ positive Gewichte, so dass das Element $s_i$ Gewicht $w_i$ hat. Es gelte $\overset{n}{\underset{i=1}{\sum}} w_i = 1$. Gesucht ist der \emph{gewichtete Median} von $S$.

\begin{enumerate}[\bfseries (a)]
%% -----------------------------------------------
%%                         a)
%% -----------------------------------------------

\item Angenommen, Sie haben eine Funktion, welche den gewichteten Median in Zeit $T(n)$ bestimmt. Zeigen Sie, wie man den (normalen) Median in Zeit $O(n) + T(n)$ berechnen kann.\\

\textbf{Beweis:} Als Eingabe für unseren Algorithmus (Median) bekommen wir eine Liste von Werten ($s_1, ..., s_n$). Diese erweitern wir nun auf die Form für den gewichteten Median. Dazu legen wir eine 2. Liste mit den Werten an (oder erweitern die andere Liste auf Tupel $(s_i, w_i)$, was beides auf das selbe hinaus läuft). Für die Gewichte wählen wir $\forall 1\leq i \leq n : w_i = \frac{1}{n}$. Auf die neue Strucktur können wir den Algorithmus für den \emph{gewichteten Median} anwenden.\\

\textbf{Laufzeit:} Wir konstruieren zunächst die neue Liste. Dafür gehen wir einmal drüber und erzeugen Tupel. Das Gewicht können wir in $O(1)$ erstellen und den Tupel auch. Dies tun wir für $n$ Elemente. Je nachdem, ob wir $n$ besitzen oder noch suchen müssen, haben wir als Laufzeit $n$ oder $2n$. Wir benötigen aber für das Erstellen der neuen Eingabe $O(n)$ Schritte. Danach führen wir den gegebenen Algorithmus aus.\\
$\Rightarrow T_{\text{Median}}(n) = T_{\text{gewichteter Median}}(n) + O(n)$\\

\textbf{Median:} Bleibt zu zeigen, dass das Ergebnis $s_g$ der Median ist:\\
Kleinere Elemente, sei $n_k$ die Anzahl der Elemente, die kleiner als $s_g$ sind:
$$
\sum_{s_i < s_g} w_i \stackrel{\text{Gewichte}}{=} \sum_{s_i< s_g} \frac{1}{n} \stackrel{\text{Def.: }n_k}{=} \frac{n_k}{n} \stackrel{\text{Def.}}{\leq} \frac{1}{2} 
$$
$$
\Leftrightarrow n_k <= \frac{n}{2}
$$
Kleinere Elemente, sei $n_g$ die Anzahl der Elemente, die größer sind als $s_g$ sind:
$$
\sum_{s_i > s_g} w_i \stackrel{\text{Gewichte}}{=} \sum_{s_i> s_g} \frac{1}{n} \stackrel{\text{Def.: }n_g}{=} \frac{n_k}{n} \stackrel{\text{Def.}}{<} \frac{1}{2}
$$
$$
\Leftrightarrow n_g < \frac{n}{2}
$$

Da gelten muss, das $n_g + n_k + 1 = n$ erfüllen unsere beiden Ergebnisse die Bedingungen für den normalen Median.
%% -----------------------------------------------
%%                         b)
%% -----------------------------------------------
\item  Zeigen Sie, wie man den gewichteten Median in $O(n \cdot \log n)$ Zeit berechnen kann.\\

\textbf{Beweis:} Wir wählne uns einen geeigneten Sortieralgorithmus. Hier bietet sich Mergesort an. Aus dem letzten Übungszettel wissen wir, dass $T_{\text{Mergesort}}(n) = n \cdot \log n - (n - 1)$ ist.\\
Nachdem wir unseren Liste sortiert haben tun wir folgendes:
\begin{enumerate}[{Schritt} 1]
\item Erzeuge $sum = 0$ Laufsummenvariable mit 0 und indexvariable $i = 0$
\item Rechne $sum \leftarrow sum + w_i$.
\item Ist $sum <= \frac{1}{2}$ inkrementiere $i$ um eins und mache mit Schritt 2 weiter.
\item (Ist dies nicht der Fall) Gebe $s_i$ zurück.
\end{enumerate}

Was wir als erstes sehen, ist dass die Summer der Gewichte, die kleiner als der \emph{gewichtete Median} sind, $\leq \frac{1}{2}$ da wir beim ersten mal, wenn es größer ist aus der Schleife gehen und dort nur den Media drauf gerechnet haben. Da wir beim finden über $\frac{1}{2}$ gekommen sind, wissen wir, dass aus der Bedingung, dass die Gesammtgewichte $=1$ sind, dass die Gewichte der Elemente, die größer sind $\geq \frac{1}{2}$ sein müssen.\\

\textbf{Laufzeit:} Die erste Überlegung ist, ob die Schleife abbricht.\\
Eine einfache Antwort wäre, dass wir alle Gewichte aufsummieren, d.h. wir wissen im $n$-ten Schritt, dass $sum = 1$ ist. Die Abbruchbedingung wird also spätestens nach $n$ Schritten erfüllt. Da wir aber äußerste Beweisfetischisten sind, weden wir für die Terminierung noch einen formellen Beweis am Ende des Übungsblattes geben.\\
Für die Laufzeit ergibt sich nun : $T(n) = T_{\text{Mergesort}} + n \cdot (c) + d$, wobei $c$ die konstanten kosten sind, für das aufsummieren der Gewichte und inkrementieren des indexes sind und $d$ die Fixkosten für das anlegen der beiden Variablen sind.\\
$\Rightarrow T(n) = n \cdot \log n - (n-1) + n \cdot c + d \in O(n \log n)$.

%% -----------------------------------------------
%%                         c)
%% -----------------------------------------------
\item Zeigen Sie, wie man den gewichteten Median in $O(n)$ Zeit  finden kann, wenn ein Linearzeitalgorithmus zum Finden des normalen Medians zur Verfügung steht.

\end{enumerate}
%% -----------------------------------------------------
%%                         AUFGABE 2
%% -----------------------------------------------------

\section*{Aufgabe 2}

In der Vorlesung wurden zur Berechnung des BFPRT-Algorithmus die Menge in 5er Gruppen unterteilt. Untersuchen Sie, wie sich der Algorithmus für $k=2n+1,\; n \in \mathbb N $ verhält.


%% -----------------------------------------------------
%%                         AUFGABE 3
%% -----------------------------------------------------

\section*{Aufgabe 3}

\begin{enumerate}[\bfseries (a)]
%% -----------------------------------------------
%%                         a)
%% -----------------------------------------------

\item Für zwei ganzzahlige Vektoren $x=(x_1; x_2; ...; x_n)$ und $y=(y_1; y_2; ...; y_n))$ mit $0\leq x_i, y_i \leq M$ und einen Wert $u > M$ betrachten wir die Zahlen
$$
a = x_1 u^n + x_2 u^{n-1}+ ... + x_n u^1
$$
und
$$
b=y_1u^n + y_2 u^{n-1} + ... + y_n u^1.
$$

Zeigen Sie: $a=b \Leftrightarrow x=y$ , $a<b \Leftrightarrow x < y$(lexikographisch).

%% -----------------------------------------------
%%                         b)
%% -----------------------------------------------

\item Entwerfen Sie einen Algorithmus, der für zwei gegebene Folgen nichtnegativer Zahlen $x=(x_1; ... ; x_m)$ und $y=(y_1; ...; y_n)$ in "linearer" Zeit entscheidet, ob $x$ als Teilfolge $(y_{i+1},...,y_{i+m})$ in $y$ vorkommt ($0 \leq i \leq n-m$). Berechnen Sie die Kosten des Algorithmus im EKM und im LKM.


\end{enumerate}
\label{LastPage}

\end{document}